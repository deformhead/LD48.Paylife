{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./sources/game/scenes/loading/index.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./sources/game/scenes/loading/destroy.js","webpack:///./sources/game/scenes/loading/render.js","webpack:///./sources/game/scenes/loading/setup.js","webpack:///./sources/game/scenes/loading/start.js","webpack:///./sources/game/scenes/loading/update.js","webpack:///./sources/game/scenes/demo/index.js","webpack:///./sources/game/scenes/demo/destroy.js","webpack:///./sources/game/scenes/demo/render.js","webpack:///./sources/game/scenes/demo/setup.js","webpack:///./sources/game/scenes/demo/start.js","webpack:///./sources/game/scenes/demo/update.js","webpack:///./sources/game/assets/index.js","webpack:///./sources/index.js","webpack:///./sources/theatre/core/theatre.js","webpack:///./sources/theatre/core/canvas.js","webpack:///./sources/theatre/core/camera.js","webpack:///./sources/theatre/core/loop.js","webpack:///./sources/theatre/core/preload.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_destroy_js__WEBPACK_IMPORTED_MODULE_0__","_render_js__WEBPACK_IMPORTED_MODULE_1__","_setup_js__WEBPACK_IMPORTED_MODULE_2__","_start_js__WEBPACK_IMPORTED_MODULE_3__","_update_js__WEBPACK_IMPORTED_MODULE_4__","hot","accept","originalModule","webpackPolyfill","children","destroy","console","log","this","state","redirect","render","context","fillStyle","fillRect","size","width","height","font","textAlign","textBaseline","fillText","preloading","setup","start","update","_this","setTimeout","load","assets_assets","concat","_toConsumableArray","config","assets","container","scenes","expose","framerate","sharp","speed","loading","restarting","version","scene","restart","canvas","type","identifier","element","document","createElement","getContext","ratio","window","devicePixelRatio","setAttribute","style","scale","imageRendering","imageSmoothingEnabled","camera","images","shaking","current","duration","easing","elapsed","force","x","y","shift","position","add","image","target","iterator","length","destination","z","splice","idle","forEach","frame","source","visible","drawImage","set","shake","delta","amplitude","angle","Math","random","PI","round","cos","sin","appendChild","loop","arguments","undefined","elapsedTime","lastRender","lastUpdate","handler","currentRender","Date","now","requestAnimationFrame","currentUpdate","max","timeframe","promises","asset","promise","Promise","resolve","reject","Image","src","onload","sound","Audio","oncanplaythrough","cloneNode","push","all","then","preload","scope","theatre","body","scenes_namespaceObject"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, setup, start, update};\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","function destroy() {\n\n    console.log('destroy loading scene');\n    console.log('-------');\n\n    delete this.state.redirect;\n}\n\nexport {destroy};\n","function render() {\n\n    // console.log('render loading scene');\n\n    this.context.fillStyle = '#181a1f';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n\n    this.context.font = '16px Courier New';\n    this.context.textAlign = 'start';\n    this.context.textBaseline = 'top';\n    this.context.fillStyle = '#6b717d';\n    this.context.fillText('/ Theatre', 8, 8);\n    this.context.fillStyle = '#d7dae0';\n\n    this.context.fillText('$ preloading assets...', 8, 32);\n\n    if (this.preloading === false) {\n\n        this.context.fillText('$ preloading completed', 8, 32 + 24);\n        this.context.fillText('$ loading demo scene...', 8, 32 + 24 + 24);\n    }\n}\n\nexport {render};\n","function setup() {\n\n    console.log('setup loading scene');\n}\n\nexport {setup};\n","function start() {\n\n    console.log('start loading scene');\n\n    this.state.redirect = false;\n}\n\nexport {start};\n","function update() {\n\n    // console.log('update loading scene');\n\n    if (this.preloading === false && this.state.redirect === false) {\n\n        setTimeout(() => {\n\n            this.load('demo');\n\n        }, 3000);\n\n        this.state.redirect = true;\n    }\n}\n\nexport {update};\n","import {destroy} from './destroy.js';\nimport {render} from './render.js';\nimport {setup} from './setup.js';\nimport {start} from './start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './destroy.js',\n        './render.js',\n        './setup.js',\n        './start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, render, setup, start, update};\n","function destroy() {\n\n    console.log('destroy demo scene');\n    console.log('-------');\n}\n\nexport {destroy};\n","function render() {\n\n    // console.log('render demo scene');\n\n    this.context.fillStyle = '#d7dae0';\n    this.context.fillRect(0, 0, this.size.width, this.size.height);\n}\n\nexport {render};\n","function setup() {\n\n    console.log('setup demo scene');\n}\n\nexport {setup};\n","function start() {\n\n    console.log('start demo scene');\n}\n\nexport {start};\n","function update() {\n\n    // console.log('update demo scene');\n}\n\nexport {update};\n","import {datasets} from './datasets/index.js';\nimport {images} from './images/index.js';\nimport {sounds} from './sounds/index.js';\n\nconst assets = [\n\n    ...datasets,\n    ...images,\n    ...sounds\n];\n\nexport {assets};\n","import {assets} from 'assets/index.js';\nimport * as scenes from 'scenes/index.js';\n\nimport {Theatre} from 'core/theatre.js';\n\nnew Theatre({\n\n    'assets': assets,\n    'container': document.body,\n    'expose': true,\n    'scenes': scenes,\n    'sharp': true,\n    'size': {\n\n        'width': 320,\n        'height': 288\n    }\n});\n","import {Camera} from 'core/camera.js';\nimport {Canvas} from 'core/canvas.js';\nimport {Loop} from 'core/loop.js';\n\nimport {preload} from 'core/preload.js';\n\nfunction Theatre(config) {\n\n    const {assets, container, scenes, size} = config;\n\n    const expose = config.expose || false;\n    const framerate = config.framerate || 60;\n    const sharp = config.sharp || false;\n    const speed = config.speed || 1;\n\n    let loading = null;\n    let restarting = false;\n\n    function initialize() {\n\n        const canvas = new Canvas('2d', 'theatre', this.size.width, this.size.height);\n        const camera = new Camera(canvas.context, this.size.width, this.size.height);\n\n        if (sharp === true) {\n\n            canvas.sharp();\n        }\n\n        container.appendChild(canvas.element);\n\n        this.container = container;\n        this.context = canvas.context;\n        this.element = canvas.element;\n        this.camera = camera;\n\n        this.assets = {};\n        this.delta = {};\n        this.delta.render = 0;\n        this.delta.update = 0;\n\n        this.scene = this.scenes.loading;\n        this.scene.setup.call(this);\n        this.scene.start.call(this);\n\n        const loop = new Loop(framerate, speed);\n\n        loop.update((timeframe) => {\n\n            this.delta.update = timeframe;\n            this.scene.update.call(this);\n            this.camera.update(timeframe);\n\n            if (restarting === true) {\n\n                this.scene.start.call(this);\n\n                restarting = false;\n\n                return;\n            }\n\n            if (loading !== null) {\n\n                this.scene.destroy.call(this);\n                this.scene = this.scenes[loading];\n                this.scene.setup.call(this);\n                this.scene.start.call(this);\n\n                loading = null;\n\n                return;\n            }\n        });\n\n        loop.render((timeframe) => {\n\n            this.delta.render = timeframe;\n            this.scene.render.call(this);\n            this.camera.render();\n        });\n\n        preload(assets, (assets) => {\n\n            assets.forEach((asset) => {\n\n                if (typeof this.assets[asset.type + 's'] === 'undefined') {\n\n                    this.assets[asset.type + 's'] = {};\n                }\n\n                if (typeof this.assets[asset.type + 's'][asset.scope] === 'undefined') {\n\n                    this.assets[asset.type + 's'][asset.scope] = {};\n                }\n\n                this.assets[asset.type + 's'][asset.scope][asset.name] = asset.getter;\n            });\n\n            this.preloading = false;\n        });\n\n        this.loop = loop;\n        this.preloading = true;\n    }\n\n    function load(scene) {\n\n        loading = scene;\n    }\n\n    function restart() {\n\n        restarting = true;\n    }\n\n    this.preloading = false;\n    this.scenes = scenes;\n    this.size = size;\n    this.state = {};\n    this.version = '0.26.0';\n\n    this.load = load;\n    this.restart = restart;\n\n    initialize.call(this, config);\n\n    if (expose === true) {\n\n        window.theatre = this;\n    }\n}\n\n// exports current module as an object\nexport {Theatre};\n","function Canvas(type, identifier, width, height) {\n\n    const element = document.createElement('canvas');\n    const context = element.getContext(type);\n    const ratio = window.devicePixelRatio || 1;\n\n    function sharp() {\n\n        this.element.style.imageRendering = '-moz-crisp-edges';\n        this.element.style.imageRendering = '-webkit-crisp-edges';\n        this.element.style.imageRendering = 'crisp-edges';\n        this.element.style.imageRendering = 'pixelated';\n        this.context.imageSmoothingEnabled = false;\n    }\n\n    element.setAttribute('id', identifier);\n    element.setAttribute('height', ratio * height);\n    element.setAttribute('width', ratio * width);\n\n    element.style.height = height + 'px';\n    element.style.width = width + 'px';\n\n    context.scale(ratio, ratio);\n\n    this.context = context;\n    this.element = element;\n    this.sharp = sharp;\n}\n\n// exports current module as an object\nexport {Canvas};\n","function Camera(context, width, height) {\n\n    let images = [];\n\n    let shaking = {\n\n        'current': false,\n        'duration': 0,\n        'easing': null,\n        'elapsed': 0,\n        'force': {\n\n            'x': 0,\n            'y': 0\n        },\n        'shift': {\n\n            'x': 0,\n            'y': 0\n        }\n    };\n\n    function add(image) {\n\n        let target = 0;\n\n        for (let iterator = images.length - 1; iterator >= 0; iterator -= 1) {\n\n            const current = images[iterator];\n\n            if (image.destination.z >= current.destination.z) {\n\n                target = iterator + 1;\n\n                break;\n            }\n        }\n\n        images.splice(target, 0, image);\n    }\n\n    function idle() {\n\n        shaking = {\n\n            'current': false,\n            'duration': 0,\n            'easing': null,\n            'elapsed': 0,\n            'force': {\n\n                'x': 0,\n                'y': 0\n            },\n            'shift': {\n\n                'x': 0,\n                'y': 0\n            }\n        };\n    }\n\n    function render() {\n\n        images.forEach((image) => {\n\n            const {destination, frame, source} = image;\n\n            if (this.visible(destination.x, destination.y, frame.width, frame.height) === true) {\n\n                context.drawImage(\n\n                    source,\n                    frame.x, frame.y, frame.width, frame.height,\n                    destination.x - (this.position.x + shaking.shift.x), destination.y - (this.position.y + shaking.shift.y), destination.width, destination.height\n                );\n            }\n        });\n\n        images = [];\n    }\n\n    function set(x, y) {\n\n        this.position.x = x;\n        this.position.y = y;\n    }\n\n    function shake(force, duration, easing) {\n\n        const {x, y} = force;\n\n        shaking.force = {\n\n            'x': x,\n            'y': y\n        };\n\n        shaking.current = true;\n        shaking.duration = duration;\n        shaking.easing = easing;\n    }\n\n    function update(delta) {\n\n        if (shaking.current === false) {\n\n            return;\n        }\n\n        if (shaking.elapsed + delta >= shaking.duration) {\n\n            this.idle();\n\n            return;\n        }\n\n        shaking.elapsed += delta;\n\n        const amplitude = shaking.easing(shaking.elapsed / shaking.duration);\n        const angle = Math.random() * 2 * Math.PI;\n\n        shaking.shift.x = Math.round(Math.cos(angle) * shaking.force.x * amplitude);\n        shaking.shift.y = Math.round(Math.sin(angle) * shaking.force.y * amplitude);\n    }\n\n    function visible(x, y, width, height) {\n\n        const camera = {\n\n            'x': this.position.x + shaking.shift.x,\n            'y': this.position.y + shaking.shift.y,\n            'width': this.size.width,\n            'height': this.size.height\n        };\n\n        if (x + width <= camera.x\n        || x >= camera.x + camera.width\n        || y + height <= camera.y\n        || y >= camera.y + camera.height) {\n\n            return false;\n        }\n\n        return true;\n    }\n\n    this.position = {\n\n        'x': 0,\n        'y': 0\n    };\n\n    this.size = {\n\n        'width': width,\n        'height': height\n    };\n\n    this.add = add;\n    this.idle = idle;\n    this.render = render;\n    this.set = set;\n    this.shake = shake;\n    this.update = update;\n    this.visible = visible;\n}\n\n// exports current module as an object\nexport {Camera};\n","function Loop(framerate = 60, speed = 1) {\n\n    let elapsedTime = 0;\n    let lastRender = null;\n    let lastUpdate = null;\n\n    function render(handler) {\n\n        const currentRender = Date.now();\n\n        if (lastRender !== null) {\n\n            handler(currentRender - lastRender);\n        }\n\n        // call user's render handler on each available frame\n        requestAnimationFrame(this.render.bind(this, handler));\n\n        lastRender = currentRender;\n    }\n\n    function update(handler) {\n\n        const currentUpdate = Date.now();\n\n        if (lastUpdate !== null) {\n\n            // define elapsed time since last update\n            elapsedTime += currentUpdate - lastUpdate;\n        }\n\n        // call user's update handler matching timeframe, speed and fixing browser time handling\n        while (elapsedTime >= 1000 / this.framerate / this.speed) {\n\n            // define elapsed time since last user's update handler matching timeframe and speed\n            elapsedTime -= 1000 / this.framerate / this.speed;\n\n            handler(1000 / this.framerate);\n        }\n\n        lastUpdate = currentUpdate;\n\n        // call update loop at least 60 times per second to quickly catch framerate or speed changes\n        setTimeout(this.update.bind(this, handler), 1000 / Math.max(this.framerate, 60));\n    }\n\n    this.framerate = framerate;\n    this.speed = speed;\n\n    this.render = render;\n    this.update = update;\n}\n\n// exports current module as an object\nexport {Loop};\n","function preload(assets, handler) {\n\n    let promises = [];\n\n    // preloads each asset\n    assets.forEach(function (asset) {\n\n        // creates a promise for current asset preloading\n        const promise = new Promise(function (resolve, reject) {\n\n            // if current asset is a dataset then preload it\n            if (asset.type === 'dataset') {\n\n                asset.getter = () => asset.source;\n\n                resolve(asset);\n            }\n\n            // if current asset is an image then preload it\n            if (asset.type === 'image') {\n\n                const image = new Image();\n\n                image.src = asset.source;\n\n                // when current image is loaded then resolve current promise\n                image.onload = function () {\n\n                    asset.getter = () => image;\n\n                    resolve(asset);\n                };\n            }\n\n            // if current asset is a sound then preload it\n            else if (asset.type === 'sound') {\n\n                const sound = new Audio(asset.source);\n\n                // when current sound is loaded then resolve current promise\n                sound.oncanplaythrough = function () {\n\n                    asset.getter = () => sound.cloneNode();\n\n                    resolve(asset);\n                };\n            }\n        });\n\n        promises.push(promise);\n    });\n\n    // call user's success handler when all assets are preloaded\n    Promise.all(promises).then(handler);\n}\n\n// exports current module as a function\nexport {preload};\n"],"sourceRoot":""}